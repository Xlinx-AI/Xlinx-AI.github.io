<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iXlinx AI Playground</title>
    <style>
        :root {
            --nvidia-green: #76b900;
            --amd-red: #cc0000;
            --primary-green-darker: #5a8c00;
            --black: #1a1a1a;
            --dark-grey: #2c2c2c;
            --medium-grey: #444444;
            --light-grey: #cccccc;
            --glass-bg: rgba(40, 42, 45, 0.75); /* Полупрозрачный темный для эффекта стекла */
            --glass-border: rgba(118, 185, 0, 0.5); /* Зеленоватая рамка для стекла */
            --text-color: #f0f0f0;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--black);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            background-image: linear-gradient(45deg, var(--black) 0%, var(--primary-green-darker) 100%);
            background-attachment: fixed;
        }

        .aero-window {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1) inset;
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%); /* Для Safari */
            width: 90%;
            max-width: 800px;
            margin-bottom: 20px;
            overflow: hidden; /* чтобы title-bar не вылезал за радиус */
        }

        .title-bar {
            background: linear-gradient(to bottom, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.05) 100%);
            padding: 8px 12px;
            font-weight: bold;
            color: var(--nvidia-green);
            border-bottom: 1px solid var(--glass-border);
            text-align: center;
        }

        .window-content {
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 25px;
        }

        header img.logo {
            width: 100px;
            margin-bottom: 10px;
            border-radius: 50%;
            border: 2px solid var(--nvidia-green);
        }

        header h1 {
            color: var(--nvidia-green);
            margin: 10px 0 5px 0;
            font-size: 2.5em;
        }

        header .slogan {
            font-size: 1.1em;
            color: var(--light-grey);
            margin-bottom: 15px;
        }

        .lang-switcher {
            margin-bottom: 20px;
            text-align: center;
        }

        .lang-switcher button {
            background-color: var(--medium-grey);
            color: var(--text-color);
            border: 1px solid var(--nvidia-green);
            padding: 8px 15px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s, box-shadow 0.2s;
        }

        .lang-switcher button:hover, .lang-switcher button.active {
            background-color: var(--nvidia-green);
            color: var(--black);
            box-shadow: 0 0 10px var(--nvidia-green);
        }

        .playground-controls {
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 15px;
        }

        .tabs button {
            background-color: transparent;
            color: var(--light-grey);
            border: 2px solid var(--medium-grey);
            padding: 10px 20px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .tabs button:hover {
            border-color: var(--amd-red);
            color: var(--amd-red);
        }
        .tabs button.active {
            background-color: var(--nvidia-green);
            border-color: var(--nvidia-green);
            color: var(--black);
            font-weight: bold;
        }


        textarea#promptInput {
            width: calc(100% - 22px); /* Учет padding и border */
            min-height: 80px;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid var(--medium-grey);
            background-color: rgba(0,0,0,0.2);
            color: var(--text-color);
            font-size: 1em;
            resize: vertical;
            margin-bottom: 10px;
        }
         textarea#promptInput:focus {
            outline: none;
            border-color: var(--nvidia-green);
            box-shadow: 0 0 8px var(--nvidia-green);
         }


        button#generateBtn {
            background: linear-gradient(to bottom, var(--nvidia-green) 0%, var(--primary-green-darker) 100%);
            color: var(--black);
            font-weight: bold;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
            align-self: center;
        }

        button#generateBtn:hover {
            box-shadow: 0 0 15px var(--nvidia-green);
            transform: translateY(-2px);
        }
        button#generateBtn:active {
            transform: translateY(0px);
            box-shadow: 0 0 5px var(--nvidia-green);
        }

        .results-area {
            margin-top: 20px;
            padding: 15px;
            border: 1px dashed var(--medium-grey);
            border-radius: 5px;
            min-height: 100px;
            background-color: rgba(0,0,0,0.1);
            overflow-wrap: break-word; /* Для переноса длинных строк текста */
        }

        .results-area img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            margin-top: 10px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        .results-area .error {
            color: var(--amd-red);
            font-weight: bold;
        }

        .loader {
            display: none; /* Скрыт по умолчанию */
            border: 5px solid var(--medium-grey);
            border-top: 5px solid var(--nvidia-green);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .contact-info {
            text-align: center;
            margin-top: 30px;
        }
        .contact-info a {
            color: var(--nvidia-green);
            text-decoration: none;
            margin: 0 10px;
            padding: 8px 15px;
            border: 1px solid var(--nvidia-green);
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        .contact-info a:hover {
            background-color: var(--nvidia-green);
            color: var(--black);
            box-shadow: 0 0 10px var(--nvidia-green);
        }
         .contact-info a.amd-style {
            color: var(--amd-red);
            border-color: var(--amd-red);
        }
        .contact-info a.amd-style:hover {
            background-color: var(--amd-red);
            color: var(--text-color);
            box-shadow: 0 0 10px var(--amd-red);
        }


        footer {
            text-align: center;
            margin-top: auto; /* Прижимает футер к низу, если контента мало */
            padding: 20px;
            font-size: 0.9em;
            color: var(--light-grey);
        }

        /* Адаптивность */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            .aero-window {
                width: 95%;
            }
            header h1 {
                font-size: 2em;
            }
            .tabs button {
                padding: 8px 12px;
                font-size: 0.9em;
            }
            button#generateBtn {
                padding: 10px 20px;
                font-size: 1em;
            }
            .contact-info a {
                display: block;
                margin: 8px auto;
                width: fit-content;
            }
        }

    </style>
</head>
<body>

    <div class="aero-window">
        <div class="title-bar" data-translate="titleBar">iXlinx AI Creative Playground</div>
        <div class="window-content">
            <header>
                <img src="https://cdn-icons-png.flaticon.com/512/2917/2917992.png" alt="iXlinx AI Logo" class="logo">
                <h1>iXlinx AI</h1>
                <p class="slogan" data-translate="slogan">Интеллект будущего — рождается здесь</p>
            </header>

            <div class="lang-switcher">
                <button id="lang-ru" class="active">Русский</button>
                <button id="lang-en">English</button>
            </div>

            <div class="playground-controls">
                <div class="tabs">
                    <button id="tab-text" class="active" data-translate="tabText">Генерация Текста</button>
                    <button id="tab-image" data-translate="tabImage">Генерация Изображений</button>
                </div>
                <textarea id="promptInput" placeholder="Введите ваш запрос..."></textarea>
                <button id="generateBtn" data-translate="generateButton">Генерировать</button>
            </div>

            <div class="loader" id="loader"></div>
            <div class="results-area" id="resultsArea">
                <p data-translate="resultsPlaceholder">Здесь появятся результаты генерации...</p>
            </div>

            <div class="contact-info">
                <a href="mailto:kirill.rdgaming@gmail.com" data-translate="contactEmail">Email</a>
                <a href="https://Xlinx-AI.github.io/" target="_blank" data-translate="contactWebsite">Website</a>
                <a href="https://t.me/stalkerum_228" target="_blank" class="amd-style" data-translate="contactTelegram">Telegram</a>
            </div>
        </div>
    </div>

    <footer>
        <p data-translate="footerText">© 2024-2025 iXlinx AI. Powered by Pollinations.AI.</p>
    </footer>

    <script>
        const translations = {
            ru: {
                titleBar: "iXlinx AI Творческая Песочница",
                slogan: "Интеллект будущего — рождается здесь",
                tabText: "Генерация Текста",
                tabImage: "Генерация Изображений",
                promptPlaceholder: "Введите ваш запрос...",
                generateButton: "Генерировать",
                resultsPlaceholder: "Здесь появятся результаты генерации...",
                contactEmail: "Email",
                contactWebsite: "Сайт",
                contactTelegram: "Telegram",
                footerText: "© 2024-2025 iXlinx AI. Работает на Pollinations.AI.",
                errorGeneric: "Произошла ошибка. Попробуйте еще раз.",
                errorImageLoad: "Не удалось загрузить изображение.",
                generatingText: "Генерация текста...",
                generatingImage: "Генерация изображения..."
            },
            en: {
                titleBar: "iXlinx AI Creative Playground",
                slogan: "The future's intelligence is born here",
                tabText: "Text Generation",
                tabImage: "Image Generation",
                promptPlaceholder: "Enter your prompt...",
                generateButton: "Generate",
                resultsPlaceholder: "Generation results will appear here...",
                contactEmail: "Email",
                contactWebsite: "Website",
                contactTelegram: "Telegram",
                footerText: "© 2024-2025 iXlinx AI. Powered by Pollinations.AI.",
                errorGeneric: "An error occurred. Please try again.",
                errorImageLoad: "Failed to load image.",
                generatingText: "Generating text...",
                generatingImage: "Generating image..."
            }
        };

        let currentLang = 'ru';
        let currentMode = 'text'; // 'text' or 'image'

        const langRuBtn = document.getElementById('lang-ru');
        const langEnBtn = document.getElementById('lang-en');
        const tabTextBtn = document.getElementById('tab-text');
        const tabImageBtn = document.getElementById('tab-image');
        const promptInput = document.getElementById('promptInput');
        const generateBtn = document.getElementById('generateBtn');
        const resultsArea = document.getElementById('resultsArea');
        const loader = document.getElementById('loader');

        function setLanguage(lang) {
            currentLang = lang;
            document.documentElement.lang = lang;
            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.getAttribute('data-translate');
                if (translations[lang] && translations[lang][key]) {
                    el.innerHTML = translations[lang][key];
                }
            });
            promptInput.placeholder = translations[lang].promptPlaceholder;
            
            // Обновляем активные кнопки языка
            langRuBtn.classList.toggle('active', lang === 'ru');
            langEnBtn.classList.toggle('active', lang === 'en');
        }

        function setMode(mode) {
            currentMode = mode;
            tabTextBtn.classList.toggle('active', mode === 'text');
            tabImageBtn.classList.toggle('active', mode === 'image');
            resultsArea.innerHTML = `<p data-translate="resultsPlaceholder">${translations[currentLang].resultsPlaceholder}</p>`; // Сброс результатов
        }

        async function handleGeneration() {
            const prompt = promptInput.value.trim();
            if (!prompt) {
                resultsArea.innerHTML = `<p class="error">${currentLang === 'ru' ? 'Пожалуйста, введите запрос.' : 'Please enter a prompt.'}</p>`;
                return;
            }

            resultsArea.innerHTML = ''; // Очищаем предыдущие результаты
            loader.style.display = 'block';
            generateBtn.disabled = true;
            
            let initialMessageKey = currentMode === 'text' ? 'generatingText' : 'generatingImage';
            resultsArea.innerHTML = `<p>${translations[currentLang][initialMessageKey]}</p>`;


            try {
                let url;
                if (currentMode === 'text') {
                    url = `https://text.pollinations.ai/${encodeURIComponent(prompt)}`;
                    const response = await fetch(url);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const textData = await response.text();
                    resultsArea.innerHTML = `<p>${textData.replace(/\n/g, '<br>')}</p>`;
                } else { // image mode
                    // Добавляем параметры для улучшения качества и отключения лого, если нужно
                    // Например: ?width=1024&height=1024&nologo=true&model=flux (flux - одна из моделей)
                    // Для простоты, пока без доп. параметров, кроме nologo
                    url = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?nologo=true`;
                    // Для Pollinations API, ответ на image.pollinations.ai - это само изображение, а не JSON
                    // Поэтому мы просто устанавливаем src для img тега
                    const img = document.createElement('img');
                    img.src = url;
                    img.alt = prompt;
                    img.onerror = () => {
                        resultsArea.innerHTML = `<p class="error">${translations[currentLang].errorImageLoad}</p>`;
                    };
                    img.onload = () => {
                         resultsArea.innerHTML = ''; // Очищаем сообщение "Генерация изображения..."
                         resultsArea.appendChild(img);
                    }
                    // Немедленно добавляем img, чтобы пользователь видел попытку загрузки
                    // Если будет ошибка, onerror ее обработает. Если нет, onload очистит сообщение о загрузке.
                     if(!img.complete) { // Если изображение еще не загружено (обычно так и есть)
                        resultsArea.innerHTML = `<p>${translations[currentLang].generatingImage}</p>`;
                     }
                     resultsArea.appendChild(img); // Добавляем ДО onload, чтобы пользователь видел попытку

                }
            } catch (error) {
                console.error('Generation error:', error);
                resultsArea.innerHTML = `<p class="error">${translations[currentLang].errorGeneric}</p>`;
            } finally {
                loader.style.display = 'none';
                generateBtn.disabled = false;
            }
        }

        langRuBtn.addEventListener('click', () => setLanguage('ru'));
        langEnBtn.addEventListener('click', () => setLanguage('en'));
        tabTextBtn.addEventListener('click', () => setMode('text'));
        tabImageBtn.addEventListener('click', () => setMode('image'));
        generateBtn.addEventListener('click', handleGeneration);

        // Инициализация при загрузке
        setLanguage('ru'); // Язык по умолчанию
        setMode('text');   // Режим по умолчанию
    </script>
</body>
</html>
